/* Client-side translations - loaded after document, used by client.js */
window.TRANSLATIONS = {
  en: {
    layouts: { daily: 'Daily Challenge', supereasy: 'Level 1 (24 tiles)', easy: 'Level 2 (48 tiles)', turtle: 'Level 3 (72 tiles)', pyramid: 'Level 4 (80 tiles)', hard: 'Level 5 (104 tiles)', fort: 'Fort (80 tiles)', caterpillar: 'Caterpillar (72 tiles)' },
    ui: { highlightPlayable: 'Highlight playable', newDeal: 'New deal', center: 'Center', undo: 'Undo', shuffle: 'Shuffle', hint: 'Hint', menu: 'Menu', help: 'Help', statistics: 'Statistics', leaderboard: 'Leaderboard', refresh: 'Refresh', loading: 'Loading Mahjong...', pairs: 'pairs', tiles: 'tiles', close: 'Close', saveToLeaderboard: 'Save to leaderboard', playAgain: 'Play again', yourName: 'Your name (for high scores)', enterName: 'Enter your name', stuckTitle: 'Stuck? No problem!', stuckMsg: 'No moves available! Shuffle to mix things up or start a new game.', shuffleTiles: 'Shuffle tiles', newGame: 'New game', levelComplete: 'Level complete!' },
    toasts: { enterName: 'Please enter your name to save to the leaderboard.', scoreSaved: 'Score saved! You\'re on the leaderboard!', tilesShuffled: 'Tiles shuffled!', couldNotSave: 'Could not save score: ', hintHere: 'Here\'s a hint!', noMoves: 'No moves left. Shuffle or start a new game.' },
    win: { cheer: 'You cleared all the tiles! You\'re a star!', shareLabel: 'Share your score:' }
  },
  es: {
    layouts: { daily: 'Reto Diario', supereasy: 'Nivel 1 (24 fichas)', easy: 'Nivel 2 (48 fichas)', turtle: 'Nivel 3 (72 fichas)', pyramid: 'Nivel 4 (80 fichas)', hard: 'Nivel 5 (104 fichas)', fort: 'Fuerte (80 fichas)', caterpillar: 'Oruga (72 fichas)' },
    ui: { highlightPlayable: 'Resaltar jugables', newDeal: 'Nueva partida', center: 'Centrar', undo: 'Deshacer', shuffle: 'Mezclar', hint: 'Pista', menu: 'Menú', help: 'Ayuda', statistics: 'Estadísticas', leaderboard: 'Clasificación', refresh: 'Actualizar', loading: 'Cargando Mahjong...', pairs: 'pares', tiles: 'fichas', close: 'Cerrar', saveToLeaderboard: 'Guardar en clasificación', playAgain: 'Jugar de nuevo', yourName: 'Tu nombre (para puntuaciones)', enterName: 'Escribe tu nombre', stuckTitle: '¿Atascado? ¡No hay problema!', stuckMsg: '¡No hay movimientos! Mezcla las fichas o empieza una partida nueva.', shuffleTiles: 'Mezclar fichas', newGame: 'Nueva partida', levelComplete: '¡Nivel completado!' },
    toasts: { enterName: 'Por favor escribe tu nombre para guardar en la clasificación.', scoreSaved: '¡Puntuación guardada! ¡Estás en la clasificación!', tilesShuffled: '¡Fichas mezcladas!', couldNotSave: 'No se pudo guardar la puntuación: ', hintHere: '¡Aquí tienes una pista!', noMoves: 'No hay movimientos. Mezcla o empieza una partida nueva.' },
    win: { cheer: '¡Has limpiado todas las fichas! ¡Eres una estrella!', shareLabel: 'Comparte tu puntuación:' }
  },
  fr: {
    layouts: { daily: 'Défi Quotidien', supereasy: 'Niveau 1 (24 tuiles)', easy: 'Niveau 2 (48 tuiles)', turtle: 'Niveau 3 (72 tuiles)', pyramid: 'Niveau 4 (80 tuiles)', hard: 'Niveau 5 (104 tuiles)', fort: 'Forteresse (80 tuiles)', caterpillar: 'Chenille (72 tuiles)' },
    ui: { highlightPlayable: 'Surligner les tuiles jouables', newDeal: 'Nouvelle partie', center: 'Centrer', undo: 'Annuler', shuffle: 'Mélanger', hint: 'Indice', menu: 'Menu', help: 'Aide', statistics: 'Statistiques', leaderboard: 'Classement', refresh: 'Actualiser', loading: 'Chargement du Mahjong...', pairs: 'paires', tiles: 'tuiles', close: 'Fermer', saveToLeaderboard: 'Enregistrer au classement', playAgain: 'Rejouer', yourName: 'Votre nom (pour les scores)', enterName: 'Entrez votre nom', stuckTitle: 'Bloqué ? Pas de problème !', stuckMsg: 'Aucun coup possible ! Mélangez les tuiles ou démarrez une nouvelle partie.', shuffleTiles: 'Mélanger les tuiles', newGame: 'Nouvelle partie', levelComplete: 'Niveau terminé !' },
    toasts: { enterName: 'Veuillez entrer votre nom pour enregistrer au classement.', scoreSaved: 'Score enregistré ! Vous êtes au classement !', tilesShuffled: 'Tuiles mélangées !', couldNotSave: 'Impossible d\'enregistrer le score : ', hintHere: 'Voici un indice !', noMoves: 'Aucun coup possible. Mélangez ou démarrez une nouvelle partie.' },
    win: { cheer: 'Vous avez nettoyé toutes les tuiles ! Vous êtes une star !', shareLabel: 'Partagez votre score :' }
  },
  de: {
    layouts: { daily: 'Tägliche Herausforderung', supereasy: 'Level 1 (24 Steine)', easy: 'Level 2 (48 Steine)', turtle: 'Level 3 (72 Steine)', pyramid: 'Level 4 (80 Steine)', hard: 'Level 5 (104 Steine)', fort: 'Festung (80 Steine)', caterpillar: 'Raupe (72 Steine)' },
    ui: { highlightPlayable: 'Spielbare hervorheben', newDeal: 'Neues Spiel', center: 'Zentrieren', undo: 'Rückgängig', shuffle: 'Mischen', hint: 'Tipp', menu: 'Menü', help: 'Hilfe', statistics: 'Statistiken', leaderboard: 'Bestenliste', refresh: 'Aktualisieren', loading: 'Mahjong wird geladen...', pairs: 'Paare', tiles: 'Steine', close: 'Schließen', saveToLeaderboard: 'In Bestenliste speichern', playAgain: 'Nochmal spielen', yourName: 'Dein Name (für Bestenliste)', enterName: 'Name eingeben', stuckTitle: 'Keine Züge? Kein Problem!', stuckMsg: 'Keine Züge möglich! Mische die Steine oder starte ein neues Spiel.', shuffleTiles: 'Steine mischen', newGame: 'Neues Spiel', levelComplete: 'Level abgeschlossen!' },
    toasts: { enterName: 'Bitte gib deinen Namen ein, um in der Bestenliste zu speichern.', scoreSaved: 'Gespeichert! Du bist in der Bestenliste!', tilesShuffled: 'Steine gemischt!', couldNotSave: 'Score konnte nicht gespeichert werden: ', hintHere: 'Hier ist ein Tipp!', noMoves: 'Keine Züge möglich. Mischen oder neues Spiel.' },
    win: { cheer: 'Du hast alle Steine weggeräumt! Du bist ein Star!', shareLabel: 'Teile deinen Score:' }
  },
  pt: {
    layouts: { daily: 'Desafio Diário', supereasy: 'Nível 1 (24 peças)', easy: 'Nível 2 (48 peças)', turtle: 'Nível 3 (72 peças)', pyramid: 'Nível 4 (80 peças)', hard: 'Nível 5 (104 peças)', fort: 'Fortaleza (80 peças)', caterpillar: 'Lagarta (72 peças)' },
    ui: { highlightPlayable: 'Destacar jogáveis', newDeal: 'Nova partida', center: 'Centralizar', undo: 'Desfazer', shuffle: 'Embaralhar', hint: 'Dica', menu: 'Menu', help: 'Ajuda', statistics: 'Estatísticas', leaderboard: 'Classificação', refresh: 'Atualizar', loading: 'Carregando Mahjong...', pairs: 'pares', tiles: 'peças', close: 'Fechar', saveToLeaderboard: 'Salvar na classificação', playAgain: 'Jogar novamente', yourName: 'Seu nome (para pontuações)', enterName: 'Digite seu nome', stuckTitle: 'Travou? Sem problema!', stuckMsg: 'Sem jogadas! Embaralhe as peças ou inicie uma nova partida.', shuffleTiles: 'Embaralhar peças', newGame: 'Nova partida', levelComplete: 'Nível completo!' },
    toasts: { enterName: 'Por favor digite seu nome para salvar na classificação.', scoreSaved: 'Salvo! Você está na classificação!', tilesShuffled: 'Peças embaralhadas!', couldNotSave: 'Não foi possível salvar: ', hintHere: 'Aqui está uma dica!', noMoves: 'Sem jogadas. Embaralhe ou inicie nova partida.' },
    win: { cheer: 'Você limpou todas as peças! Você é uma estrela!', shareLabel: 'Compartilhe sua pontuação:' }
  },
  pl: {
    layouts: { daily: 'Wyzwanie Dziennie', supereasy: 'Poziom 1 (24 płytki)', easy: 'Poziom 2 (48 płytek)', turtle: 'Poziom 3 (72 płytki)', pyramid: 'Poziom 4 (80 płytek)', hard: 'Poziom 5 (104 płytki)', fort: 'Forteca (80 płytek)', caterpillar: 'Gąsienica (72 płytki)' },
    ui: { highlightPlayable: 'Podświetl możliwe', newDeal: 'Nowa gra', center: 'Wyśrodkuj', undo: 'Cofnij', shuffle: 'Potasuj', hint: 'Podpowiedź', menu: 'Menu', help: 'Pomoc', statistics: 'Statystyki', leaderboard: 'Wyniki', refresh: 'Odśwież', loading: 'Ładowanie Mahjong...', pairs: 'par', tiles: 'płytek', close: 'Zamknij', saveToLeaderboard: 'Zapisz do wyników', playAgain: 'Graj ponownie', yourName: 'Twoje imię (dla wyników)', enterName: 'Wpisz swoje imię', stuckTitle: 'Utknąłeś? Nie ma problemu!', stuckMsg: 'Brak ruchów! Potasuj płytki lub zacznij nową grę.', shuffleTiles: 'Potasuj płytki', newGame: 'Nowa gra', levelComplete: 'Poziom ukończony!' },
    toasts: { enterName: 'Wpisz imię, aby zapisać do wyników.', scoreSaved: 'Zapisano! Jesteś w tabeli wyników!', tilesShuffled: 'Płytki potasowane!', couldNotSave: 'Nie udało się zapisać: ', hintHere: 'Oto podpowiedź!', noMoves: 'Brak ruchów. Potasuj lub zacznij nową grę.' },
    win: { cheer: 'Usunąłeś wszystkie płytki! Jesteś gwiazdą!', shareLabel: 'Udostępnij wynik:' }
  },
  it: {
    layouts: { daily: 'Sfida Giornaliera', supereasy: 'Livello 1 (24 tessere)', easy: 'Livello 2 (48 tessere)', turtle: 'Livello 3 (72 tessere)', pyramid: 'Livello 4 (80 tessere)', hard: 'Livello 5 (104 tessere)', fort: 'Fortezza (80 tessere)', caterpillar: 'Bruco (72 tessere)' },
    ui: { highlightPlayable: 'Evidenzia giocabili', newDeal: 'Nuova partita', center: 'Centra', undo: 'Annulla', shuffle: 'Mescola', hint: 'Suggerimento', menu: 'Menu', help: 'Aiuto', statistics: 'Statistiche', leaderboard: 'Classifica', refresh: 'Aggiorna', loading: 'Caricamento Mahjong...', pairs: 'coppie', tiles: 'tessere', close: 'Chiudi', saveToLeaderboard: 'Salva in classifica', playAgain: 'Gioca ancora', yourName: 'Il tuo nome (per punteggi)', enterName: 'Inserisci il tuo nome', stuckTitle: 'Bloccato? Nessun problema!', stuckMsg: 'Nessuna mossa possibile! Mescola le tessere o inizia una nuova partita.', shuffleTiles: 'Mescola tessere', newGame: 'Nuova partita', levelComplete: 'Livello completato!' },
    toasts: { enterName: 'Inserisci il tuo nome per salvare in classifica.', scoreSaved: 'Salvato! Sei in classifica!', tilesShuffled: 'Tessere mescolate!', couldNotSave: 'Impossibile salvare: ', hintHere: 'Ecco un suggerimento!', noMoves: 'Nessuna mossa. Mescola o inizia nuova partita.' },
    win: { cheer: 'Hai rimosso tutte le tessere! Sei una stella!', shareLabel: 'Condividi il punteggio:' }
  }
};

window.t = function (path) {
  var lang = (document.documentElement.getAttribute('data-lang') || 'en').toLowerCase();
  var tr = window.TRANSLATIONS && window.TRANSLATIONS[lang];
  if (!tr) tr = window.TRANSLATIONS && window.TRANSLATIONS.en;
  var keys = path.split('.');
  for (var i = 0; i < keys.length && tr; i++) tr = tr[keys[i]];
  return (typeof tr === 'string' ? tr : path);
};
